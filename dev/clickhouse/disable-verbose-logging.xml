<clickhouse>
    <!-- Optimize system logging in development to reduce memory pressure -->
    <!-- Without optimization, ClickHouse system logs can grow to 400+ MiB in 7 hours -->
    
    <!-- Query logging with 1-day TTL (instead of 30 days) -->
    <query_log>
        <database>system</database>
        <table>query_log</table>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
        <ttl>event_date + INTERVAL 1 DAY</ttl>
        <partition_by>toYYYYMM(event_date)</partition_by>
    </query_log>
    
    <!-- Processor profiling with 1-day TTL -->
    <processors_profile_log>
        <database>system</database>
        <table>processors_profile_log</table>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
        <ttl>event_date + INTERVAL 1 DAY</ttl>
    </processors_profile_log>
    
    <!-- Trace log with 1-day TTL -->
    <trace_log>
        <database>system</database>
        <table>trace_log</table>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
        <ttl>event_date + INTERVAL 1 DAY</ttl>
    </trace_log>
    
    <!-- Text log: WARNING level only (not info/debug), 1-day TTL -->
    <text_log>
        <database>system</database>
        <table>text_log</table>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
        <ttl>event_date + INTERVAL 1 DAY</ttl>
        <level>warning</level>
    </text_log>
    
    <!-- Part log with 1-day TTL -->
    <part_log>
        <database>system</database>
        <table>part_log</table>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
        <ttl>event_date + INTERVAL 1 DAY</ttl>
    </part_log>
    
    <!-- Metric log with 1-day TTL (keeps ~10MB) -->
    <metric_log>
        <database>system</database>
        <table>metric_log</table>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
        <ttl>event_date + INTERVAL 1 DAY</ttl>
    </metric_log>
    
    <!-- Asynchronous metric log with 1-day TTL (keeps ~9MB) -->
    <asynchronous_metric_log>
        <database>system</database>
        <table>asynchronous_metric_log</table>
        <flush_interval_milliseconds>7500</flush_interval_milliseconds>
        <ttl>event_date + INTERVAL 1 DAY</ttl>
    </asynchronous_metric_log>
</clickhouse>
